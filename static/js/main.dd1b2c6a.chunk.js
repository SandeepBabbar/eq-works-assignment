(this["webpackJsonpeq-works-app"]=this["webpackJsonpeq-works-app"]||[]).push([[0],{172:function(t,e,a){t.exports={Table:"styles_Table__2iSze",Input:"styles_Input__H-Odt"}},286:function(t,e,a){},287:function(t,e,a){},289:function(t,e,a){},39:function(t,e,a){t.exports={Header:"styles_Header__cpNG9",Tab:"styles_Tab__3U-1Q",Date:"styles_Date__Sp9YF",Active:"styles_Active__KQdcp",Count:"styles_Count__3yQw0",Arrow:"styles_Arrow__11wEs"}},430:function(t,e,a){},529:function(t,e,a){"use strict";a.r(e);var n=a(0),s=a.n(n),r=a(80),c=a.n(r),i=(a(286),a(287),a(35)),o=a(15),l=a.n(o),u=a(38),d=a(18),h=a(19),j=a(33),b=a(34),p=(a(289),a(39)),f=a.n(p),x=a(256),m=a.n(x).a.create({baseURL:"https://laser-knowing-barge.glitch.me"});function v(t){return O.apply(this,arguments)}function O(){return(O=Object(u.a)(l.a.mark((function t(e){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.get("/stats/".concat(e));case 3:return a=t.sent,t.abrupt("return",a.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function y(t){return g.apply(this,arguments)}function g(){return(g=Object(u.a)(l.a.mark((function t(e){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.get("/events/".concat(e));case 3:return a=t.sent,t.abrupt("return",a.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}function w(){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,m.get("/poi");case 3:return e=t.sent,t.abrupt("return",e.data);case 7:throw t.prev=7,t.t0=t.catch(0),t.t0;case 10:case"end":return t.stop()}}),t,null,[[0,7]])})))).apply(this,arguments)}var _=a(43),M=a.n(_),Y=a(530),C=a(534),A=a(271),N=a(272),S=a(108),D=a(275),T=a(2),H=function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(){var t;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={duration:"daily",tab:"clicks",data:[]},t.cache=[],t.handleHourly=function(){var e=Object(u.a)(l.a.mark((function e(a){var n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v("hourly");case 3:n=e.sent,s=n.filter((function(t){return a.date===t.date})),t.cache=t.state.data,t.setState({data:s,duration:"hourly"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),t.reset=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({data:t.cache,duration:"daily"});case 1:case"end":return e.stop()}}),e)}))),t.formatXAxis=function(e){return"daily"===t.state.duration?M()(e).format("MMM Do YY"):M()("2021-02-01").add("hour",e).format("HH:mm")},t}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(this.state.duration);case 3:e=t.sent,this.setState({data:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=0,a=0,n=0;return this.state.data.forEach((function(t){e+=Number(t.clicks),a+=Number(t.impressions),n+=Number(t.revenue)})),this.state.data.length>0?Object(T.jsxs)("div",{className:"daily"===this.state.duration?"daily":"hourly",children:[Object(T.jsx)("h1",{children:"Stats"}),Object(T.jsxs)("div",{className:f.a.Header,children:[Object(T.jsx)("div",{className:[f.a.Tab,f.a.Date].join(" "),children:"daily"===this.state.duration?"".concat(M()(this.state.data[0].date).format("MMM-YYYY")," - ").concat(M()(this.state.data[this.state.data.length-1].date).format("MMM-YYYY")):Object(T.jsxs)("div",{children:[Object(T.jsx)("span",{className:f.a.Arrow,onClick:this.reset,children:" \u2190"}),Object(T.jsx)("span",{children:"".concat(M()(this.state.data[0].date).format("DD-MMM-YYYY"))})]})}),Object(T.jsxs)("div",{className:[f.a.Tab,"clicks"===this.state.tab?f.a.Active:""].join(" "),onClick:function(){return t.setState({tab:"clicks",data:Object(i.a)(t.state.data)})},children:["Clicks ",Object(T.jsx)("br",{})," ",Object(T.jsx)("span",{className:f.a.Count,children:"".concat(e)})]}),Object(T.jsxs)("div",{className:[f.a.Tab,"impressions"===this.state.tab?f.a.Active:""].join(" "),onClick:function(){return t.setState({tab:"impressions",data:Object(i.a)(t.state.data)})},children:["Impressions ",Object(T.jsx)("br",{}),Object(T.jsx)("span",{className:f.a.Count,children:"".concat(a)})]}),Object(T.jsxs)("div",{className:[f.a.Tab,"revenue"===this.state.tab?f.a.Active:""].join(" "),onClick:function(){return t.setState({tab:"revenue",data:Object(i.a)(t.state.data)})},children:["Revenue ",Object(T.jsx)("br",{}),Object(T.jsx)("span",{className:f.a.Count,children:"$ ".concat(Math.ceil(n))})]})]}),Object(T.jsx)("div",{children:Object(T.jsxs)(Y.a,{width:730,height:250,data:this.state.data,children:[Object(T.jsx)(C.a,{strokeDasharray:"3 3"}),Object(T.jsx)(A.a,{dataKey:"daily"===this.state.duration?"date":"hour",tickFormatter:this.formatXAxis}),Object(T.jsx)(N.a,{}),Object(T.jsx)(S.a,{labelFormatter:this.formatXAxis}),Object(T.jsx)(D.a,{onClick:"daily"===this.state.duration?this.handleHourly:function(){},dataKey:this.state.tab,fill:"#8884d8"})]})})]}):"Loading"}}]),a}(s.a.Component),E=(a(430),a(65)),F=a.n(E),I=function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(){var t;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={duration:"daily",tab:"events",data:[]},t.cache=[],t.handleHourly=function(){var e=Object(u.a)(l.a.mark((function e(a){var n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y("hourly");case 3:n=e.sent,s=n.filter((function(t){return a.date===t.date})),t.cache=t.state.data,t.setState({data:s,duration:"hourly"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),t.reset=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setState({data:t.cache,duration:"daily"});case 1:case"end":return e.stop()}}),e)}))),t.formatXAxis=function(e){return"daily"===t.state.duration?M()(e).format("MMM Do YY"):M()("2021-02-01").add("hour",e).format("HH:mm")},t}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(this.state.duration);case 3:e=t.sent,this.setState({data:e}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,this,[[0,7]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this,e=0;return this.state.data.forEach((function(t){e+=Number(t.events)})),this.state.data.length>0?Object(T.jsxs)("div",{className:"daily"===this.state.duration?"daily":"hourly",children:[Object(T.jsx)("h1",{children:"Events"}),Object(T.jsxs)("div",{className:F.a.Header,children:[Object(T.jsx)("div",{className:[F.a.Tab,F.a.Date].join(" "),children:"daily"===this.state.duration?"".concat(M()(this.state.data[0].date).format("MMM-YYYY")," - ").concat(M()(this.state.data[this.state.data.length-1].date).format("MMM-YYYY")):Object(T.jsxs)("div",{children:[Object(T.jsx)("span",{className:F.a.Arrow,onClick:this.reset,children:" \u2190"}),Object(T.jsx)("span",{children:"".concat(M()(this.state.data[0].date).format("DD-MMM-YYYY"))})]})}),Object(T.jsxs)("div",{className:[F.a.Tab,"Events"===this.state.tab?F.a.Active:""].join(" "),onClick:function(){return t.setState({tab:"events",data:Object(i.a)(t.state.data)})},children:["Events ",Object(T.jsx)("br",{})," ",Object(T.jsx)("span",{className:F.a.Count,children:"".concat(e)})]})]}),Object(T.jsx)("div",{children:Object(T.jsxs)(Y.a,{width:730,height:250,data:this.state.data,children:[Object(T.jsx)(C.a,{strokeDasharray:"3 3"}),Object(T.jsx)(A.a,{dataKey:"daily"===this.state.duration?"date":"hour",tickFormatter:this.formatXAxis}),Object(T.jsx)(N.a,{}),Object(T.jsx)(S.a,{labelFormatter:this.formatXAxis}),Object(T.jsx)(D.a,{onClick:"daily"===this.state.duration?this.handleHourly:function(){},dataKey:this.state.tab,fill:"#8884d8"})]})})]}):"Loading"}}]),a}(s.a.Component),J=a(172),L=a.n(J),X=a(276),K=a(174),P=a(107),q=Object(K.a)(Object(K.b)({googleMapURL:"https://maps.googleapis.com/maps/api/js?key=AIzaSyDm2xZ7BDh7qboJJRlJwpmqceUmrmApw5c&v=3.exp&libraries=geometry,drawing,places",loadingElement:Object(T.jsx)("div",{style:{height:"100%"}}),containerElement:Object(T.jsx)("div",{style:{height:"400px"}}),mapElement:Object(T.jsx)("div",{style:{height:"100%"}})}),P.withScriptjs,P.withGoogleMap)((function(t){return Object(T.jsx)(P.GoogleMap,{defaultZoom:1,defaultCenter:{lat:-34.397,lng:150.644},children:t.data&&t.data.map((function(t){return console.log(t),Object(T.jsx)(P.Marker,{position:{lat:t.lat,lng:t.lon}})}))},t.data.length)})),B=a.p+"static/media/map.fbefa44a.JPG",G=function(t){Object(j.a)(a,t);var e=Object(b.a)(a);function a(){var t;Object(d.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))).state={data:[],map:!1},t.handleChange=function(e){t.setState({map:!1}),clearTimeout(t.timer),t.timer=setTimeout((function(){var a=new X.a(t.cache,{includeScore:!0,keys:["poi_id","name","lat","lon"]}).search(e.target.value);0===(a=a.map((function(t){return t.item}))).length&&""===e.target.value?t.setState({data:t.cache,map:!0}):t.setState({data:a,map:!0})}),500)},t}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var t=Object(u.a)(l.a.mark((function t(){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w();case 3:e=t.sent,this.cache=e,this.setState({data:e,map:!0}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){return Object(T.jsxs)("div",{children:[Object(T.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:10},children:[Object(T.jsx)("h1",{children:"POI"}),Object(T.jsx)("input",{className:L.a.Input,placeholder:"Search",onChange:this.handleChange})]}),Object(T.jsxs)("table",{className:L.a.Table,children:[Object(T.jsxs)("thead",{children:[Object(T.jsx)("th",{children:"ID"}),Object(T.jsx)("th",{children:"Name"}),Object(T.jsx)("th",{children:"Lat"}),Object(T.jsx)("th",{children:"Lon"})]}),Object(T.jsx)("tbody",{children:this.state.data.map((function(t){return Object(T.jsxs)("tr",{children:[Object(T.jsx)("td",{children:t.poi_id}),Object(T.jsx)("td",{children:t.name}),Object(T.jsx)("td",{children:t.lat}),Object(T.jsx)("td",{children:t.lon})]})}))})]}),this.state.map?Object(T.jsx)(q,{data:this.state.data}):Object(T.jsx)("img",{src:B})]})}}]),a}(s.a.Component);var R=function(){return Object(T.jsxs)("div",{className:"App",children:[Object(T.jsx)("h1",{children:"Dashboard"}),Object(T.jsx)("br",{}),Object(T.jsx)("br",{}),Object(T.jsx)(H,{}),Object(T.jsx)(I,{}),Object(T.jsx)(G,{})]})},U=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,536)).then((function(e){var a=e.getCLS,n=e.getFID,s=e.getFCP,r=e.getLCP,c=e.getTTFB;a(t),n(t),s(t),r(t),c(t)}))};c.a.render(Object(T.jsx)(s.a.StrictMode,{children:Object(T.jsx)(R,{})}),document.getElementById("root")),U()},65:function(t,e,a){t.exports={Header:"styles_Header__2SOvA",Tab:"styles_Tab__3jXhp",Date:"styles_Date__2wNuJ",Active:"styles_Active__24pyp",Count:"styles_Count__1Pr50",Arrow:"styles_Arrow__3Jgd8"}}},[[529,1,2]]]);
//# sourceMappingURL=main.dd1b2c6a.chunk.js.map